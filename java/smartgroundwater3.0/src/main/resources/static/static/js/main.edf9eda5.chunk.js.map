{"version":3,"sources":["Components/Header/index.jsx","Components/Bigtable/index.jsx","Components/Home/index.jsx","Components/About/index.jsx","Components/Audit/index.jsx","Components/Leftnav/index.jsx","App.js","index.js"],"names":["Header","state","isOnclick","handleAdminOnclick","isonclick","setState","logoutClick","axios","get","then","response","window","location","href","data","err","alert","className","onClick","this","UserOutlined","style","display","Component","columns","title","dataIndex","Bigtable","search","water","JSON","parse","console","log","dataSource","rowKey","item","date","type","icon","RedoOutlined","backgroundColor","React","Home","About","usercount","searchuser","id","username","key","width","size","SyncOutlined","Select","Option","columnstype","columnstypeevent","Audit","usernum","typenum","typeeventnum","downloadUserFileToExcel","dataTable","option","fileName","datas","sheetData","sheetName","sheetFilter","sheetHeader","ExportJsonExcel","saveExcel","downloadTypeFileToExcel","downloadEventFileToExcel","permit","info","error","num","Math","random","FileOutlined","SubMenu","Menu","LeftNav","handleClick","e","height","MailOutlined","ItemGroup","Item","to","path","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.edf9eda5.chunk.js","sourcesContent":["import React,{Component}from 'react'\r\nimport {UserOutlined } from '@ant-design/icons' \r\nimport './index.css'\r\nimport axios from 'axios'\r\nexport default class Header extends Component{\r\n    state={\r\n        isOnclick:false,\r\n       \r\n    }\r\n    handleAdminOnclick=()=>{\r\n        const isonclick=this.state.isonclick;\r\n        this.setState({isonclick:!isonclick})\r\n    }\r\n    logoutClick=()=>{\r\n        axios.get(`/ktool/logout`).then(\r\n            (response)=>{\r\n                window.location.href=response.data\r\n            },\r\n            (err)=>{\r\n                alert(\"退出失败\")\r\n            }\r\n        )\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"header\">\r\n                <div className='admin-div' onClick={this.handleAdminOnclick}>\r\n                <UserOutlined  className='admin-svg'>\r\n                </UserOutlined>\r\n              \r\n                </div>\r\n                <button className='admin-btn' style={{display:this.state.isonclick?'block':'none'}} onClick={this.logoutClick}>退出登录</button>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Button } from \"antd\";\r\nimport { RedoOutlined} from \"@ant-design/icons\";\r\n\r\n\r\n\r\nimport { Table } from \"antd\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst columns = [\r\n  {\r\n    title: \"水位计\",\r\n    dataIndex: \"sensor\",\r\n   \r\n  },\r\n  {\r\n    title: \"日期\",\r\n    dataIndex: \"date\",\r\n    \r\n  },\r\n  {\r\n    title: \"时间\",\r\n    dataIndex: \"time\",\r\n    \r\n  },\r\n  {\r\n    title: \"MS\",\r\n    dataIndex: \"ms\",\r\n    \r\n  },\r\n  {\r\n    title: \"水位\",\r\n    dataIndex: \"level\",\r\n    \r\n  },\r\n \r\n  {\r\n    title: \"温度\",\r\n    dataIndex: \"temperature\",\r\n    \r\n  },\r\n \r\n];\r\n\r\n\r\n\r\nexport default class Bigtable extends React.Component {\r\n  componentWillMount(){\r\n    axios.get(`/waterlevel`).then(\r\n      (response)=>{\r\n        console.log(response.data)\r\n        this.setState({water:response.data})\r\n      }\r\n    );\r\n  }\r\n    \r\n    \r\n      \r\n    \r\n\r\n  search = () => {\r\n    \r\n    axios.get(`/waterlevel`).then(\r\n      (response)=>{\r\n        this.setState({water:JSON.parse(response.data)})\r\n      }\r\n    );\r\n    \r\n  };\r\n \r\n  state = {\r\n   water :null\r\n  };\r\n  \r\n  \r\n \r\n \r\n  \r\n  \r\n    \r\n\r\n  \r\n  render() {\r\n\r\n    \r\n    return (\r\n      <div>\r\n       \r\n\r\n        <Table\r\n          \r\n          columns={columns}\r\n          dataSource={this.state.water}\r\n          rowKey={(item) =>item.date}\r\n        />\r\n        \r\n        \r\n        \r\n        <Button\r\n          onClick={this.search}\r\n          className=\"system-freshen\"\r\n          type=\"primary\"\r\n          icon={<RedoOutlined />}\r\n          style={{ backgroundColor: \"#91A0D7\" }}\r\n        >\r\n          刷新\r\n        </Button>\r\n        \r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component  } from \"react\";\r\nimport Bigtable from '../Bigtable'\r\nimport \"./index.css\";\r\nexport default class Home extends Component {\r\n  render() {\r\n\t\r\n    return (\r\n      <div className=\"system-blog\">\r\n        <h1>设备日志</h1>\r\n\t    <Bigtable/>\r\n      </div>\r\n    );\r\n   \r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Table, Button } from \"antd\";\r\n\r\nimport {  SyncOutlined } from \"@ant-design/icons\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport \"./index.css\";\r\n\r\nexport default class About extends Component {\r\n  // \taxios.get(`logNum?July=month`).then(\r\n  // \t\tresponse => {\r\n  // \t\t\t//请求成功后通知App更新状态\r\n  //      this. dataMouth=response.data.info;\r\n\r\n  // \t\t},\r\n  // \t\terror => {\r\n  // \t\t\t//请求失败后通知App更新状态\r\n  // \t\t  console.log(\"月份请求失败\")\r\n  // \t\t}\r\n  // \t)\r\n  // }\r\n\r\n  state = {\r\n    usercount:null\r\n  };\r\n  searchuser = () => {\r\n    axios.get(`/users`).then(\r\n      (response)=>{\r\n        this.setState({usercount:response.data})\r\n      }\r\n    );\r\n  };\r\n  componentWillMount() {\r\n    axios.get(`/users`).then(\r\n      (response)=>{\r\n        this.setState({usercount:response.data})\r\n      }\r\n    );\r\n  }\r\n  \r\n  render() {\r\n    const columns = [\r\n      {\r\n        title: \"ID\",\r\n        dataIndex: \"id\",\r\n        key: \"id\",\r\n        width: \"100px\",\r\n      },\r\n      {\r\n        title: \"用户名\",\r\n        dataIndex: \"username\",\r\n        key: \"username\",\r\n        width: \"100px\",\r\n      },\r\n      {\r\n        title: \"级别\",\r\n        dataIndex: \"permission\",\r\n        key: \"permission\",\r\n        width: \"100px\",\r\n      },\r\n      {\r\n        title: \"密码\",\r\n        dataIndex: \"password\",\r\n        key: \"password\",\r\n        width: \"100px\",\r\n      },\r\n      \r\n    ];\r\n\r\n    \r\n    const hidepage = {\r\n      hideOnSinglePage: \"true\",\r\n    };\r\n\r\n    // 提供了一个在select里面添加公用Option内容的方法\r\n    //第一个参数为原数据（array）\r\n    //第二个为value----值为当前输入框内容对应的id或code唯一标识(不能为number会报错)\r\n    //第三个为内容\r\n\r\n    return (\r\n      <div className=\"big-year\">\r\n        <h1>用户数据统计</h1>\r\n\r\n        <div id=\"year-table\">\r\n          <Table\r\n            rowKey={(item) => item.username}\r\n            columns={columns}\r\n            dataSource={this.state.usercount}\r\n            size={\"big\"}\r\n          />\r\n        </div>\r\n\r\n        {/* <Button className=\"header-button\"  July=\"primary\" hidepage={hidepage} icon={<FileOutlined />}>\r\n         导出\r\n       </Button> */}\r\n\r\n        <Button\r\n          onClick={this.searchuser}\r\n         type=\"primary\"\r\n          icon={<SyncOutlined />}\r\n          className=\"header-freshen\"\r\n          style={{ backgroundColor: \"#91A0D7\" }}\r\n        >\r\n          刷新\r\n        </Button>\r\n       \r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Table, Button } from \"antd\";\r\nimport { Select } from \"antd\";\r\n\r\nimport { FileOutlined } from \"@ant-design/icons\";\r\nimport ExportJsonExcel from \"js-export-excel\";\r\nimport axios from \"axios\";\r\nimport \"./index.css\";\r\nlet userdata = [];\r\nlet typedata = [];\r\nlet typeeventdata = [];\r\nconst { Option } = Select;\r\nconst hidepage = {\r\n  hideOnSinglePage: \"true\",\r\n};\r\nconst columns = [\r\n  {\r\n    title: \"用户名\",\r\n    dataIndex: \"user\",\r\n    key: \"aud-time\",\r\n    width: \"400px\",\r\n  },\r\n  {\r\n    title: \"次数\",\r\n    dataIndex: \"num\",\r\n    key: \"aud-visit\",\r\n    width: \"400px\",\r\n  },\r\n];\r\nconst columnstype = [\r\n  {\r\n    title: \"类型\",\r\n    dataIndex: \"type\",\r\n    key: \"type\",\r\n    width: \"400px\",\r\n  },\r\n  {\r\n    title: \"次数\",\r\n    dataIndex: \"num\",\r\n    key: \"num\",\r\n    width: \"400px\",\r\n  },\r\n];\r\nconst columnstypeevent = [\r\n  {\r\n    title: \"事件类型\",\r\n    dataIndex: \"event\",\r\n    key: \"event\",\r\n    width: \"400px\",\r\n  },\r\n  {\r\n    title: \"次数\",\r\n    dataIndex: \"num\",\r\n    key: \"num\",\r\n    width: \"400px\",\r\n  },\r\n];\r\n\r\n// axios.get(`/api1/logNum?type=user`).then(\r\n//   (response) => {\r\n//     console.log(response.data.info);\r\n//     userdata=response.data.info;\r\n//     console.log(userdata.length)\r\n//   },\r\n//   (error) => {\r\n//     console.log(\"总数请求失败\");\r\n//   }\r\n// );\r\n\r\nexport default class Audit extends Component {\r\n  state = {\r\n    usernum: null,\r\n    typenum: null,\r\n    typeeventnum: null,\r\n  };\r\n  componentWillMount() {\r\n    axios.get(`/ktool/checkOnline`).then((response) => {\r\n      if (response.data == 1) {\r\n        axios.get(`/ktool/logNum?type=user`).then(\r\n          (response) => {\r\n            if (response.data.permit == true) {\r\n              this.setState({\r\n                usernum: JSON.parse(response.data.info),\r\n              });\r\n              userdata = JSON.parse(response.data.info);\r\n            } else {\r\n              alert(\"您无权限查看此内容\");\r\n            }\r\n          },\r\n          (error) => {\r\n            console.log(\"总数请求失败\");\r\n          }\r\n        );\r\n      } else if (response.data == 2) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/login?service=https://192.168.41.5:443/ktool\";\r\n      } else if (response.data == 3) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/logout?service=https://192.168.41.5:443/ktool\";\r\n      }\r\n    });\r\n\r\n    axios.get(`/ktool/checkOnline`).then((response) => {\r\n      if (response.data == 1) {\r\n        axios.get(`/ktool/logNum?type=type`).then(\r\n          (response) => {\r\n            if (response.data.permit == true) {\r\n              this.setState({\r\n                typenum: JSON.parse(response.data.info),\r\n              });\r\n              console.log(this.state.typenum);\r\n              typedata = JSON.parse(response.data.info);\r\n            } else {\r\n              alert(\"您无权限查看此内容\");\r\n            }\r\n          },\r\n          (error) => {\r\n            console.log(\"总数请求失败\");\r\n          }\r\n        );\r\n      } else if (response.data == 2) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/login?service=https://192.168.41.5:443/ktool\";\r\n      } else if (response.data == 3) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/logout?service=https://192.168.41.5:443/ktool\";\r\n      }\r\n    });\r\n\r\n    axios.get(`/ktool/checkOnline`).then((response) => {\r\n      if (response.data == 1) {\r\n        axios.get(`/ktool/logNum?type=event`).then(\r\n          (response) => {\r\n            if (response.data.permit == true) {\r\n              this.setState({\r\n                typeeventnum: JSON.parse(response.data.info),\r\n              });\r\n              console.log(this.state.typenum);\r\n              typeeventdata = JSON.parse(response.data.info);\r\n            } else {\r\n              alert(\"您无权限查看此内容\");\r\n            }\r\n          },\r\n          (error) => {\r\n            console.log(\"总数请求失败\");\r\n          }\r\n        );\r\n      } else if (response.data == 2) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/login?service=https://192.168.41.5:443/ktool\";\r\n      } else if (response.data == 3) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/logout?service=https://192.168.41.5:443/ktool\";\r\n      }\r\n    });\r\n  }\r\n  downloadUserFileToExcel = () => {\r\n    axios.get(`/ktool/checkOnline?type=output`).then((response) => {\r\n      if (response.data == 1) {\r\n        let dataTable = []; //excel文件中的数据内容\r\n        let option = {}; //option代表的就是excel文件\r\n        dataTable = this.state.usernum; //从props中获取数据源\r\n        option.fileName = \"用户名统计\"; //excel文件名称\r\n        option.datas = [\r\n          {\r\n            sheetData: dataTable, //excel文件中的数据源\r\n            sheetName: \"安全组\", //excel文件中sheet页名称\r\n            sheetFilter: [\"user\", \"num\"], //excel文件中需显示的列数据\r\n            sheetHeader: [\"user\", \"num\"], //excel文件中每列的表头名称\r\n          },\r\n        ];\r\n        let toExcel = new ExportJsonExcel(option); //生成excel文件\r\n        toExcel.saveExcel(); //下载excel文件\r\n      } else if (response.data == 2) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/login?service=https://192.168.41.5:443/ktool\";\r\n      } else if (response.data == 3) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/logout?service=https://192.168.41.5:443/ktool\";\r\n      }\r\n    });\r\n  };\r\n  downloadTypeFileToExcel = () => {\r\n    axios.get(`/ktool/checkOnline?type=output`).then((response) => {\r\n      if (response.data == 1) {\r\n        let dataTable = []; //excel文件中的数据内容\r\n        let option = {}; //option代表的就是excel文件\r\n        dataTable = this.state.typenum; //从props中获取数据源\r\n        option.fileName = \"类型统计\"; //excel文件名称\r\n        option.datas = [\r\n          {\r\n            sheetData: dataTable, //excel文件中的数据源\r\n            sheetName: \"安全组\", //excel文件中sheet页名称\r\n            sheetFilter: [\"type\", \"num\"], //excel文件中需显示的列数据\r\n            sheetHeader: [\"type\", \"num\"], //excel文件中每列的表头名称\r\n          },\r\n        ];\r\n        let toExcel = new ExportJsonExcel(option); //生成excel文件\r\n        toExcel.saveExcel(); //下载excel文件\r\n      } else if (response.data == 2) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/login?service=https://192.168.41.5:443/ktool\";\r\n      } else if (response.data == 3) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/logout?service=https://192.168.41.5:443/ktool\";\r\n      }\r\n    });\r\n  };\r\n  downloadEventFileToExcel = () => {\r\n    axios.get(`/ktool/checkOnline?type=output`).then((response) => {\r\n      if (response.data == 1) {\r\n        let dataTable = []; //excel文件中的数据内容\r\n        let option = {}; //option代表的就是excel文件\r\n        dataTable = this.state.typeeventnum; //从props中获取数据源\r\n        option.fileName = \"事件类型统计\"; //excel文件名称\r\n        option.datas = [\r\n          {\r\n            sheetData: dataTable, //excel文件中的数据源\r\n            sheetName: \"安全组\", //excel文件中sheet页名称\r\n            sheetFilter: [\"event\", \"num\"], //excel文件中需显示的列数据\r\n            sheetHeader: [\"event\", \"num\"], //excel文件中每列的表头名称\r\n          },\r\n        ];\r\n        let toExcel = new ExportJsonExcel(option); //生成excel文件\r\n        toExcel.saveExcel(); //下载excel文件\r\n      } else if (response.data == 2) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/login?service=https://192.168.41.5:443/ktool\";\r\n      } else if (response.data == 3) {\r\n        window.location.href =\r\n          \"https://isc.sgcc.com.cn:22011/isc_sso/logout?service=https://192.168.41.5:443/ktool\";\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    \r\n\r\n    return (\r\n      <div className=\"audit\">\r\n        <h1>审查日志统计</h1>\r\n        <Table\r\n          columns={columns}\r\n          dataSource={this.state.usernum}\r\n          size={\"big\"}\r\n          style={{ width: 1200 }}\r\n          rowKey={(item) => item.num + Math.random()}\r\n        />\r\n        <Table\r\n          columns={columnstype}\r\n          dataSource={this.state.typenum}\r\n          size={\"big\"}\r\n          style={{ width: 1200 }}\r\n          rowKey={(item) => item.num + Math.random()}\r\n        />\r\n        <Table\r\n          columns={columnstypeevent}\r\n          dataSource={this.state.typeeventnum}\r\n          size={\"big\"}\r\n          style={{ width: 1200 }}\r\n          rowKey={(item) => item.num + Math.random()}\r\n        />\r\n        <div className=\"audit-big\">\r\n         \r\n          <Button\r\n            onClick={this.downloadUserFileToExcel}\r\n            type=\"primary\"\r\n            icon={<FileOutlined />}\r\n            style={{ backgroundColor: \"#91A0D7\" }}\r\n          >\r\n            用户名数据导出\r\n          </Button>\r\n          <Button\r\n            onClick={this.downloadTypeFileToExcel}\r\n            type=\"primary\"\r\n            icon={<FileOutlined />}\r\n            style={{ backgroundColor: \"#91A0D7\" }}\r\n          >\r\n            类型数据导出\r\n          </Button>\r\n          <Button\r\n            onClick={this.downloadEventFileToExcel}\r\n            type=\"primary\"\r\n            icon={<FileOutlined />}\r\n            style={{ backgroundColor: \"#91A0D7\" }}\r\n          >\r\n            事件类型数据导出\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Menu } from \"antd\";\r\nimport { Link, Route,Redirect } from \"react-router-dom\";\r\nimport \"antd/dist/antd.css\";\r\nimport React, { Component } from \"react\";\r\nimport { MailOutlined } from \"@ant-design/icons\";\r\nimport Home from \"../Home\";\r\nimport About from \"../About\";\r\nimport Audit from \"../Audit\"\r\nimport \"./index.css\";\r\nconst { SubMenu } = Menu;\r\n\r\nexport default class LeftNav extends Component {\r\n  handleClick = (e) => {\r\n    console.log(\"click \", e);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"leftMenu\">\r\n        <Menu\r\n          onClick={this.handleClick}\r\n          style={{ width: 256 }}\r\n          style={{ height:\"100%\" }}\r\n          defaultSelectedKeys={[\"1\"]}\r\n          defaultOpenKeys={[\"sub1\"]}\r\n          mode=\"inline\"\r\n        >\r\n          <SubMenu key=\"sub1\" icon={<MailOutlined />} title=\"数据管理\">\r\n            <Menu.ItemGroup key=\"g1\">\r\n              <Menu.Item key=\"1\">{<Link to={`/home`}>水文数据</Link>} </Menu.Item>\r\n\r\n              <Menu.Item key=\"2\">{<Link to={`/about`}>用户数据</Link>} </Menu.Item>\r\n              <Menu.Item key=\"3\">{<Link to={`/audit`}>天气数据</Link>}</Menu.Item>\r\n            </Menu.ItemGroup>\r\n          </SubMenu>\r\n        </Menu>\r\n        <Route path=\"/about\" component={About} />\r\n        <Route path=\"/home\" component={Home} />\r\n        <Route path=\"/audit\" component={Audit} />\r\n        <Redirect to=\"/home\"/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\"\nimport Header from './Components/Header'\nimport LeftNav from './Components/Leftnav'\nimport './App.css';\nexport default class App extends React.Component{\n  render(){\n    return(\n      <div>\n         <Header/>\n         <LeftNav/>\n      </div>\n     \n    )\n  }\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {HashRouter} from 'react-router-dom'\nimport App from \"./App\";\nReactDOM.render(\n  <HashRouter>\n\t\t<App/>\n\t</HashRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}